# –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ –∫ –∑–∞–Ω—è—Ç–∏—é ¬´–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã: –ø–æ–¥—Ö–æ–¥—ã¬ª

–í—ã —Ä–∞–±–æ—Ç–∞–µ—Ç–µ –≤ –∫—Ä—É–ø–Ω–æ–π –∫–æ–º–ø–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∏—Ç —Å–∏—Å—Ç–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
–í–∞–º –∫–∞–∫ DevOps-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–¥–≤–∏–Ω—É—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –ø–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏.


## –ó–∞–¥–∞—á–∞ 1: –û–±–µ—Å–ø–µ—á–∏—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è –ø–æ—Å—Ç–∞–≤–∫–∞. 
–†–µ—à–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –¥–æ–ª–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ø–æ—Å–æ–±—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

–†–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- –æ–±–ª–∞—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞;
- —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π Git;
- —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å;
- –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—é –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π;
- –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–µ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–≤—è–∑–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π —Å–±–æ—Ä–æ–∫;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä–æ–ª–∏, –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–∞);
- –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è;
- –∫–∞—Å—Ç–æ–º–Ω—ã–µ —à–∞–≥–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ;
- —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–∫–µ—Ä-–æ–±—Ä–∞–∑—ã –¥–ª—è —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –∞–≥–µ–Ω—Ç–æ–≤ —Å–±–æ—Ä–∫–∏ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–±–æ—Ä–æ–∫;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤.

–û–±–æ—Å–Ω—É–π—Ç–µ —Å–≤–æ–π –≤—ã–±–æ—Ä.

### –û—Ç–≤–µ—Ç

–î–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å GitLab + HashiCorp Vault –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤.

GitLab - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ "–≤—Å–µ-–≤-–æ–¥–Ω–æ–º" (SCM + CI/CD + Container Registry) –∏–∑ –∫–æ—Ä–æ–±–∫–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**

–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ	|	–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏ (GitLab CI/CD + Vault)
-|-
–û–±–ª–∞—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞	|	GitLab.com (SaaS) –∏–ª–∏ Self-Managed –≤–∞—Ä–∏–∞–Ω—Ç –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º –æ–±–ª–∞–∫–µ (AWS, GCP, Azure). –û–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —è–≤–ª—è—é—Ç—Å—è "–æ–±–ª–∞—á–Ω—ã–º–∏".
–°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π Git	|	GitLab ‚Äî —ç—Ç–æ Git-—Ö–æ—Å—Ç–∏–Ω–≥ —Å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π –≤–µ–±-UI –æ–±–æ–ª–æ—á–∫–æ–π, MR (Merge Requests), –∫–æ–¥-—Ä–µ–≤—å—é –∏ —Ç.–¥.
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –∫–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å	|	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞ GitLab. –ö–∞–∂–¥—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å ‚Äî —ç—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç (—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π) –≤ –≥—Ä—É–ø–ø–µ services.
–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ –ø–æ —Å–æ–±—ã—Ç–∏—é –∏–∑ –°–ö–í	|	–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è. –ü–∞–π–ø–ª–∞–π–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è—Ö: push, merge_request, tag.
–ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏	|	Manual Jobs + Pipeline Parameters. –ú–æ–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å job —Å —Ç–µ–≥–æ–º when: manual, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏. –° –ø–æ–º–æ—â—å—é –∫–ª—éwords workflow:rules –∏–ª–∏ rules –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤–µ—Å—å –ø–∞–π–ø–ª–∞–π–Ω —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, VERSION).
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ	|	–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ CI/CD (CI/CD Variables). –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞, –≥—Ä—É–ø–ø—ã –∏–ª–∏ –≤—Å–µ–π –∏–Ω—Å—Ç–∞–Ω—Ü–∏–∏. –û–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø–∞–π–ø–ª–∞–π–Ω–∞.
–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π	|	1. include:template (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —à–∞–±–ª–æ–Ω—ã GitLab). <br> 2. include:file / include:remote ‚Äî –≤—ã–Ω–µ—Å–µ–Ω–∏–µ –æ–±—â–∏—Ö —à–∞–≥–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π .gitlab-ci.yml —Ñ–∞–π–ª –≤ –¥—Ä—É–≥–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –µ–≥–æ reuse. <br> 3. extends ‚Äî –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ job.
–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤	|	1. Masked & Protected Variables (–≤—Å—Ç—Ä–æ–µ–Ω–æ –≤ GitLab). –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –ø–æ–º–µ—Ç–∏—Ç—å –∫–∞–∫ masked (–Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ –ª–æ–≥–∞—Ö) –∏ protected (–¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –≤–µ—Ç–∫–∞—Ö). <br> 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HashiCorp Vault. –ù–∞—Ç–∏–≤–Ω—ã–π –ø–ª–∞–≥–∏–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç—å short-lived —Å–µ–∫—Ä–µ—Ç—ã –∏–∑ Vault –ø—Ä—è–º–æ –≤ job. –≠—Ç–æ –ª—É—á—à–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.
–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏–∑ –æ–¥–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è	|	1. workflow:rules –∏ rules –≤ –∫–∞–∂–¥–æ–º job. –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–æ —É—Å–ª–æ–≤–∏—é (–≤–µ—Ç–∫–∞, —Ç–µ–≥, –∏—Å—Ç–æ—á–Ω–∏–∫, –ø–∞—Ä–∞–º–µ—Ç—Ä) —Ä–µ—à–∞—Ç—å, –∑–∞–ø—É—Å–∫–∞—Ç—å –ª–∏ job –∏–ª–∏ –≤–µ—Å—å –ø–∞–π–ø–ª–∞–π–Ω. <br> –ü—Ä–∏–º–µ—Ä: –†–∞–∑–Ω—ã–µ —ç—Ç–∞–ø—ã –¥–ª—è dev, stage, prod –∏–∑ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.
–ö–∞—Å—Ç–æ–º–Ω—ã–µ —à–∞–≥–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ	|	–õ—é–±—ã–µ. .gitlab-ci.yml –æ–ø–∏—Å—ã–≤–∞–µ—Ç —à–∞–≥–∏ –≤ –≤–∏–¥–µ —Å–∫—Ä–∏–ø—Ç–æ–≤ (shell, PowerShell). –ú–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ª—é–±—É—é –∫–æ–º–∞–Ω–¥—É, –Ω–∞–ø–∏—Å–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ.
–°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–æ–∫–µ—Ä-–æ–±—Ä–∞–∑—ã –¥–ª—è —Å–±–æ—Ä–∫–∏	|	–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ image. –î–ª—è –∫–∞–∂–¥–æ–≥–æ job –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π Docker-–æ–±—Ä–∞–∑, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è —Å–±–æ—Ä–∫–∞. –≠—Ç–∏ –æ–±—Ä–∞–∑—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ GitLab Container Registry, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.
–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ —Å–≤–æ–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö	|	GitLab Runner. –õ–µ–≥–∫–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –ª—é–±–æ–π —Å–µ—Ä–≤–µ—Ä (Linux, Windows, macOS) –∏–ª–∏ –≤ Kubernetes. –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ GitLab –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞—á–∏. –ú–æ–∂–Ω–æ –∏–º–µ—Ç—å —Å–∫–æ–ª—å–∫–æ —É–≥–æ–¥–Ω–æ —Ä–∞–Ω–Ω–µ—Ä–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, docker, kubernetes, windows).
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å–±–æ—Ä–æ–∫	|	–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ. –ö–∞–∂–¥—ã–π GitLab Runner –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ job –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è). –ú–æ–∂–Ω–æ –∏–º–µ—Ç—å –ø—É–ª –∏–∑ dozens —Ä–∞–Ω–Ω–µ—Ä–æ–≤. –ö–∞–∂–¥–∞—è —Å–±–æ—Ä–∫–∞ (pipeline) –∏ –∫–∞–∂–¥—ã–π job –≤–Ω—É—Ç—Ä–∏ –Ω–µ–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã.
–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤	|	–ö–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ parallel. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω job (–Ω–∞–ø—Ä–∏–º–µ—Ä, run-tests) –≤ N –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∫–æ–ø–∏—è—Ö. GitLab –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–¥–µ–ª–∏—Ç —Ç–µ—Å—Ç—ã –º–µ–∂–¥—É –Ω–∏–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –ø–æ–º–æ—â—å—é CI_NODE_INDEX), —á—Ç–æ drastically —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–π —Å—Ç–∞–¥–∏–∏.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω–æ–≥–æ —Å—Ç–µ–∫–∞**

- –ï–¥–∏–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Single Pane of Glass): –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –º–µ–∂–¥—É –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ GitHub –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–º Jenkins. –í—Å—ë (–∫–æ–¥, MR, CI/CD, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã) –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî GitLab.

 - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∫ –∫–æ–¥ (IaC): –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è CI/CD –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ .gitlab-ci.yml, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å –∫–æ–¥–æ–º.

 - –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: Runner'—ã, —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–µ –≤ Kubernetes, –º–æ–≥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é cluster-autoscaler –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫—É.

 - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Vault –≤–º–µ—Å—Ç–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤–Ω—É—Ç—Ä–∏ GitLab –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∞—É–¥–∏—Ç–∞ –∏ —Ä–æ—Ç–∞—Ü–∏–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤.

- –°–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞: GitLab Inc. –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∏—á–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è Enterprise-–∫–ª–∏–µ–Ω—Ç–æ–≤.

–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã –º–æ–∂–Ω–æ —Ä–∞—Å–º–æ—Ç—Ä–µ—Ç—å Git + –•–æ—Å—Ç–∏–Ω–≥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ + Jenkins

–ö—Ä–∏—Ç–µ—Ä–∏–π	|	GitLab (All-in-One Platform)	|	GitHub + Jenkins (Best-of-Breed Combo)
-|-|-
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –û–±—â–∞—è –∏–¥–µ—è	|	–ï–¥–∏–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤—Å–µ–≥–æ SDLC: SCM, CI/CD, Issue Tracking, Wiki, Container Registry –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–¥—É–∫—Ç–µ.	|	–°–≤—è–∑–∫–∞ –ª—É—á—à–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: GitHub ‚Äî –ª—É—á—à–∏–π Git-—Ö–æ—Å—Ç–∏–Ω–≥ –∏ —Å–æ—Ü. —Å–µ—Ç—å –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. Jenkins ‚Äî —Å–∞–º—ã–π –≥–∏–±–∫–∏–π –∏ –º–æ—â–Ω—ã–π –¥–≤–∏–∂–æ–∫ CI/CD.
–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º	|	~100%. –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ.	|	~100%. –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∑–∞ —Å—á–µ—Ç –≥–∏–±–∫–æ—Å—Ç–∏ Jenkins –∏ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –ø–ª–∞–≥–∏–Ω–æ–≤.
–°–∏–ª–∞ —Ä–µ—à–µ–Ω–∏—è	|	–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ "–µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã". –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã, –ø—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤. –í—Å–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.	|	–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–∏–±–∫–æ—Å—Ç—å –∏ –º–æ—â—å. Jenkins –º–æ–∂–Ω–æ –∑–∞—Å—Ç–∞–≤–∏—Ç—å –¥–µ–ª–∞—Ç—å literally —á—Ç–æ —É–≥–æ–¥–Ω–æ. –û–≥—Ä–æ–º–Ω–µ–π—à–µ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ –∞—Ä—Å–µ–Ω–∞–ª –ø–ª–∞–≥–∏–Ω–æ–≤.
–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–±—É—á–µ–Ω–∏—è	|	‚úÖ –í—ã—Å–æ–∫–∞—è. –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –æ–¥–∏–Ω —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.gitlab-ci.yml), –µ–¥–∏–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞.	|	üî¥ –ù–∏–∑–∫–∞—è. –¢—Ä–µ–±—É–µ—Ç –≥–ª—É–±–æ–∫–∏—Ö –∑–Ω–∞–Ω–∏–π –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –¥–≤—É—Ö —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∏ –∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
–ü—Ä–æ—Å—Ç–æ—Ç–∞ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏	|	‚úÖ –í—ã—Å–æ–∫–∞—è (–¥–ª—è SaaS). –°—Ä–µ–¥–Ω—è—è (–¥–ª—è Self-Hosted). –û–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.	|	üî¥ –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è. Jenkins —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –±–æ—Ä—å–±–∞ —Å –ø–ª–∞–≥–∏–Ω–∞–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥.
–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å	|	‚úÖ –•–æ—Ä–æ—à–∞—è. GitLab Runner –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –ª–µ–≥–∫–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –≤ Kubernetes.	|	‚úÖ –û—Ç–ª–∏—á–Ω–∞—è. Jenkins Master/Agent –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ö–æ—Ä–æ—à–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è. –ê–≥–µ–Ω—Ç—ã (–∞–≥–µ–Ω—Ç—ã) –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≥–¥–µ —É–≥–æ–¥–Ω–æ.
–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤	|	‚úÖ‚úÖ –û—Ç–ª–∏—á–Ω–æ. Masked Variables + –Ω–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å HashiCorp Vault.	|	üü° –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–ª–∞–≥–∏–Ω–æ–≤. –ï—Å—Ç—å –ø–ª–∞–≥–∏–Ω—ã –¥–ª—è Vault, Credentials Plugin, –Ω–æ —ç—Ç–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.
–°–æ–∑–¥–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤	|	‚úÖ –•–æ—Ä–æ—à–æ. include:remote, extends, –æ–±—â–∏–µ –∫–æ–Ω—Ñ–∏–≥–∏.	|	‚úÖ‚úÖ –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ. Shared Libraries –≤ Jenkins ‚Äî —ç—Ç–æ –º–æ—â–Ω–µ–π—à–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—ã–Ω–µ—Å–µ–Ω–∏—è –≤—Å–µ–π –ª–æ–≥–∏–∫–∏ –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å	|	‚úÖ –û—á–µ–Ω—å —Ö–æ—Ä–æ—à–æ. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–∞–π–ø–ª–∞–π–Ω–æ–≤ –≤ Merge Request, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã, –æ—Ç—á–µ—Ç—ã –æ —Ç–µ—Å—Ç–∞—Ö ‚Äî –≤—Å–µ –≤ –æ–¥–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.	|	üü° –†–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω–æ. –°—Ç–∞—Ç—É—Å —Å–±–æ—Ä–∫–∏ –≤ GitHub ‚Äî —ç—Ç–æ –ª–∏—à—å —Å—Å—ã–ª–∫–∞ –Ω–∞ Jenkins. –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –Ω—É–∂–Ω–æ —É—Ö–æ–¥–∏—Ç—å –≤ Jenkins UI.
–í–µ–Ω–¥–æ—Ä-–ª–æ–∫–∏–Ω	|	üü° –£–º–µ—Ä–µ–Ω–Ω—ã–π. –§–æ—Ä–º–∞—Ç .gitlab-ci.yml ‚Äî —ç—Ç–æ YAML, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —É—Å–∏–ª–∏—è–º–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å.	|	‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π. GitHub ‚Äî –¥–µ-—Ñ–∞–∫—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ –∫–æ–¥–∞. Jenkins Job DSL –∏–ª–∏ Declarative Pipeline ‚Äî —ç—Ç–æ –≥–∏–±–∫–∏–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥ –¥—Ä—É–≥–∏–µ —Å–∏—Å—Ç–µ–º—ã.
–°–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ –ø–ª–∞–≥–∏–Ω—ã	|	‚úÖ –ë–æ–ª—å—à–æ–µ –∏ –∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ.	|	‚úÖ‚úÖ –û–≥—Ä–æ–º–Ω–µ–π—à–µ–µ. Jenkins –æ–±–ª–∞–¥–∞–µ—Ç —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π –ø–ª–∞–≥–∏–Ω–æ–≤ –Ω–∞ —Ä—ã–Ω–∫–µ CI/CD.
–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è (TCO)	|	‚úÖ –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è. –ü–ª–∞—Ç–∞ –∑–∞ –ª–∏—Ü–µ–Ω–∑–∏—é (–µ—Å–ª–∏ EE) –∏/–∏–ª–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É. –ù–∏–∑–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã.	|	üî¥ –ù–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–∞—è. –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–æ—Ñ—Ç, –Ω–æ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ (–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ) –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É Jenkins.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ GitLab** - —ç—Ç–æ –∏–Ω—Å—Ç—É–º–µ–Ω—Ç "–í—Å–µ –≤ –æ–¥–Ω–æ–º" –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—Å—è –º–µ–∂–¥—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞, —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ Git + Jenkins** - –±–æ–ª–µ–µ –≥–∏–±–∫–æ–µ –∏ –º–æ—â–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –æ–±–ª–∞–¥–∞–µ—Ç —Å–∞–º–æ–π –±–æ–ª—å—à–æ–π —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π –ø–ª–∞–≥–∏–Ω–æ–≤ –Ω–∞ —Ä—ã–Ω–∫–µ CI/CD. –ë–µ—Å–ø–ª–∞—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.



## –ó–∞–¥–∞—á–∞ 2: –õ–æ–≥–∏

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.
–†–µ—à–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –¥–æ–ª–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ø–æ—Å–æ–±—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

–†–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- —Å–±–æ—Ä –ª–æ–≥–æ–≤ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å–æ –≤—Å–µ—Ö —Ö–æ—Å—Ç–æ–≤, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–∏—Ö —Å–∏—Å—Ç–µ–º—É;
- –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º, —Å–±–æ—Ä –ª–æ–≥–æ–≤ –∏–∑ stdout;
- –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ª–æ–≥–æ–≤ –¥–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞;
- –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –∑–∞–ø–∏—Å—è–º –ª–æ–≥–æ–≤;
- –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –∑–∞–ø–∏—Å—è–º –ª–æ–≥–æ–≤;
- –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∑–∞–ø–∏—Å—è–º –ª–æ–≥–æ–≤.

–û–±–æ—Å–Ω—É–π—Ç–µ —Å–≤–æ–π –≤—ã–±–æ—Ä.

### –û—Ç–≤–µ—Ç

–î–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ —Å—Ç–æ–∏—Ç —Ä–∞—Å–º–æ—Ç—Ä–µ—Ç—å —Å–≤—è–∑–∫—É Vector + ClickHouse + Grafana
1. Vector (–≤ —Ä–µ–∂–∏–º–µ DaemonSet –≤ Kubernetes) —Å–æ–±–∏—Ä–∞–µ—Ç –ª–æ–≥–∏ –∏–∑ /var/log/containers/*.log.

2. Vector –ø–∞—Ä—Å–∏—Ç JSON, –¥–æ–±–∞–≤–ª—è–µ—Ç –º–µ—Ç–∫–∏ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Pod, –Ω–æ–¥—ã –∏ —Ç.–¥.), –±—É—Ñ–µ—Ä–∏–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏ –Ω–∞–¥–µ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –≤ ClickHouse.

3. ClickHouse –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç –ª–æ–≥–∏ –≤ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ —Å–∂–∞—Ç–æ–º –≤–∏–¥–µ. –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–ª–æ–Ω–∫–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–æ–ª–µ–π –ª–æ–≥–∞ (service, level, message, request_id –∏ —Ç.–¥.).

4. Grafana –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ ClickHouse –∫–∞–∫ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SQL-—Ä–µ–¥–∞–∫—Ç–æ—Ä Grafana –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤.

    - –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –ø–æ–∏—Å–∫–∞: SELECT * FROM logs WHERE service='auth-service' AND level='ERROR' ORDER BY timestamp DESC LIMIT 100

    - –ü—Ä–∏–º–µ—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏: SELECT service, count() as error_count FROM logs WHERE level='ERROR' AND timestamp > now() - INTERVAL 1 HOUR GROUP BY service ORDER BY error_count DESC

5. –õ—é–±–æ–π –∑–∞–ø—Ä–æ—Å –≤ Grafana –º–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å –Ω–∞ –Ω–µ–≥–æ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞.


**–í –∫–∞—á–µ—Å—Ç–≤–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –°—Ç–µ–∫ EFK**

–ö—Ä–∏—Ç–µ—Ä–∏–π	|	EFK/ECK <br>(Fluent Bit -> Kafka -> ES -> Kibana)	|	Vector + ClickHouse + Grafana <br>(Vector -> ClickHouse -> Grafana)
----|-----|-
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è	|	–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –≤—Ä–µ–º–µ–Ω–µ–º. –†–∞–∑–¥–µ–ª—å–Ω—ã–µ best-of-breed tools, —Å–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –≤–º–µ—Å—Ç–µ.	|	–í—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–∞—è. Vector ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç, ClickHouse ‚Äî –º–æ—â–Ω–µ–π—à–µ–µ –∫–æ–ª–æ–Ω–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º	|	100%	|	100%
–ê–≥–µ–Ω—Ç —Å–±–æ—Ä–∞ (–Ω–∞ –Ω–æ–¥–µ)	|	Fluent Bit<br>–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π, –Ω–∞–¥–µ–∂–Ω—ã–π.	|	Vector<br>–ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ö—Ä–∞–π–Ω–µ –≤—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (–Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∞ Rust).<br>–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö (–ø–∞—Ä—Å–∏–Ω–≥, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ) –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏.
–ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞)	|	–¢—Ä–µ–±—É–µ—Ç—Å—è Kafka (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏). –î–æ–±–∞–≤–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–ª–æ–∂–Ω–æ—Å—Ç—å.	|	–í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≤ Vector. Vector –º–æ–∂–µ—Ç –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä–∞–º–∏. –ú–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ Kafka (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ), –Ω–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —ç—Ç–æ–≥–æ.
–•—Ä–∞–Ω–∏–ª–∏—â–µ	|	Elasticsearch<br>¬∑ –î–æ—Ä–æ–≥–æ–π –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ (–≤—ã—Å–æ–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ RAM –∏ CPU).<br>¬∑ –°–ª–æ–∂–Ω–æ—Å—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–æ–º (shards, replicas).<br>¬∑ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ ‚Äî —Å–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞.	|	ClickHouse<br>¬∑ –ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ù–µ–≤–µ—Ä–æ—è—Ç–Ω–æ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –∏ —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö (–≤ 5-10 —Ä–∞–∑ –ª—É—á—à–µ ES).<br>¬∑ –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö/–ø–æ–ª—É—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤ (JSON).<br>¬∑ –ú–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –∏ GROUP BY.
–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è	|	Kibana + KQL<br>¬∑ –ò–¥–µ–∞–ª–µ–Ω –¥–ª—è ad-hoc –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞.<br>¬∑ –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è "–≥—É–º–∞–Ω–∏—Ç–∞—Ä–∏–µ–≤".	|	Grafana + SQL<br>¬∑ –ü–æ–∏—Å–∫ —á–µ—Ä–µ–∑ SQL-–∑–∞–ø—Ä–æ—Å—ã –∫ ClickHouse.<br>¬∑ –°–∏–ª—å–Ω–∞—è —Å—Ç–æ—Ä–æ–Ω–∞: –ù–µ –ø–æ–∏—Å–∫ –µ–¥–∏–Ω–∏—á–Ω–æ–≥–æ –ª–æ–≥–∞, –∞ –∞–Ω–∞–ª–∏–∑ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤: "–ø–æ—Å—á–∏—Ç–∞–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É —Å–µ—Ä–≤–∏—Å—É –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å".<br>¬∑ –ú–µ–Ω—å—à–µ –ø—Ä–∏—Å–ø–æ—Å–æ–±–ª–µ–Ω –¥–ª—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ "–≥—É–≥–ª–µ–Ω–∏—è" –ª–æ–≥–æ–≤.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å	|	Kibana<br>¬∑ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –ª–æ–≥–æ–≤.<br>¬∑ Saved Search, –¥–∞—à–±–æ—Ä–¥—ã.	|	Grafana<br>¬∑ –ö–ª—é—á–µ–≤–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ: –ï–¥–∏–Ω—ã–π —Å—Ç–µ–∫ –¥–ª—è –ª–æ–≥–æ–≤ (Loki/ClickHouse), –º–µ—Ç—Ä–∏–∫ (Prometheus) –∏ —Ç—Ä–µ–π—Å–æ–≤ (Tempo).<br>¬∑ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã, –∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏ –ª–æ–≥–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≥—Ä–∞—Ñ–∏–∫ latency + –ø—Ä–∏–º–µ—Ä—ã –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –ª–æ–≥–æ–≤).
–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫	|	‚úÖ –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ Kibana.	|	‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ Grafana. –ú–æ–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å –ø–∞–Ω–µ–ª–∏ –∏ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É.
–°—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è (TCO)	|	–í—ã—Å–æ–∫–∞—è<br>¬∑ –ë–æ–ª—å—à–æ–π –∫–ª–∞—Å—Ç–µ—Ä Elasticsearch —Ç—Ä–µ–±—É–µ—Ç –º–æ—â–Ω–æ–≥–æ "–∂–µ–ª–µ–∑–∞" –∏ —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.	|	–ù–∏–∑–∫–∞—è<br>¬∑ ClickHouse —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–≥–æ –∂–µ –æ–±—ä–µ–º–∞ –¥–∞–Ω–Ω—ã—Ö.<br>¬∑ Vector —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ Fluent Bit.<br>¬∑ –ú–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–Ω–µ –Ω—É–∂–Ω–∞ –æ—Ç–¥–µ–ª—å–Ω–∞—è Kafka –¥–ª—è –±—É—Ñ–µ—Ä–∞).
–û–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å	|	–í—ã—Å–æ–∫–∞—è<br>¬∑ –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å 3 —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º—ã: Kafka, ES, Kibana.	|	–°—Ä–µ–¥–Ω—è—è<br>¬∑ ClickHouse –ø—Ä–æ—â–µ –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, —á–µ–º ES.<br>¬∑ Vector –ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ Fluent Bit/Fluentd.

**–î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –∏—Ç–æ–≥–æ–≤—ã–π –≤—ã–≤–æ–¥**
–û–±–∞ —Å—Ç–µ–∫–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º. –û–¥–Ω–∞–∫–æ –∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∏ —Å–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã —Ä–∞–∑–ª–∏—á–Ω—ã.

**–°—Ç–µ–∫ EFK (Elasticsearch) –∏–¥–µ–∞–ª–µ–Ω, –µ—Å–ª–∏:**

- –û—Å–Ω–æ–≤–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π, –∞–¥-hoc –ø–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∞–º, –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –ø–æ–∏—Å–∫—É –≤ Google.

- –ï—Å—Ç—å –∫–æ–º–∞–Ω–¥–∞ —Å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–æ–π –ø–æ –ø–æ–¥–¥–µ—Ä–∂–∫–µ Elasticsearch –∏ Kafka.

- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –≤ –±—é–¥–∂–µ—Ç–µ –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

**–°—Ç–µ–∫ Vector + ClickHouse + Grafana –∏–¥–µ–∞–ª–µ–Ω, –µ—Å–ª–∏:**

- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å ‚Äî –∫–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã. –ò–º–µ–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ–≥—Ä–æ–º–Ω—ã–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Å—è—Ç–∫–∏-—Å–æ—Ç–Ω–∏ –¢–ë –ª–æ–≥–æ–≤) —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –∑–∞—Ç—Ä–∞—Ç–∞–º–∏.

- –ù—É–∂–Ω–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ª–æ–≥–æ–≤ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∏ —Ç—Ä–µ–π—Å–∞–º–∏ –≤ –µ–¥–∏–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (Grafana).

- –ù—É–∂–Ω—ã –Ω–µ —Å—Ç–æ–ª—å–∫–æ —Ç–æ—á–µ—á–Ω—ã–µ –ø–æ–∏—Å–∫–∏, —Å–∫–æ–ª—å–∫–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ª–æ–≥–∞–º: "–∞–≥—Ä–µ–≥–∏—Ä—É–π, –ø–æ—Å—á–∏—Ç–∞–π, –æ—Ç—Å–æ—Ä—Ç–∏—Ä—É–π".

- –ù—É–∂–Ω–æ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —É–±—Ä–∞–≤ –∏–∑ –Ω–µ–µ Kafka (–∑–∞ —Å—á–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Vector).

**–ò—Ç–æ–≥**
–î–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, –≥–¥–µ –ª–æ–≥–∏ ‚Äî —ç—Ç–æ –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (JSON), –∏ –≥–¥–µ –≤–∞–∂–Ω–∞ –æ–±—â–∞—è observability (–º–µ—Ç—Ä–∏–∫–∏ + –ª–æ–≥–∏ + —Ç—Ä–µ–π—Å—ã), —Å–≤—è–∑–∫–∞ Vector + ClickHouse + Grafana —è–≤–ª—è–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–º –≤—ã–±–æ—Ä–æ–º.

## –ó–∞–¥–∞—á–∞ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–µ–¥–ª–æ–∂–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ö–æ—Å—Ç–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ.
–†–µ—à–µ–Ω–∏–µ –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –∏ –¥–æ–ª–∂–Ω–æ –æ–ø–∏—Å—ã–≤–∞—Ç—å —Å–ø–æ—Å–æ–±—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

–†–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º:
- —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö —Ö–æ—Å—Ç–æ–≤, –æ–±—Å–ª—É–∂–∏–≤–∞—é—â–∏—Ö —Å–∏—Å—Ç–µ–º—É;
- —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Ö–æ—Å—Ç–æ–≤: CPU, RAM, HDD, Network;
- —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ—Ç—Ä–µ–±–ª—è–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞: CPU, RAM, HDD, Network;
- —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞;
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é;
- –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –ø–∞–Ω–µ–ª–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã.

–û–±–æ—Å–Ω—É–π—Ç–µ —Å–≤–æ–π –≤—ã–±–æ—Ä.

### –û—Ç–≤–µ—Ç

–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –°—Ç–µ–∫ Prometheus + VictoriaMetrics + Grafana
–î–ª—è —Å–±–æ—Ä–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç—Ä–∏–∫ –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º —è–≤–ª—è–µ—Ç—Å—è —Å—Ç–µ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ Prometheus.

–Ø –ø—Ä–µ–¥–ª–∞–≥–∞—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–±–∏–Ω–∞—Ü–∏—é:

- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫: Prometheus (+ —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã)

- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è): VictoriaMetrics (–∏–ª–∏ Thanos/Cortex)

- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –¥–∞—à–±–æ—Ä–¥—ã: Grafana

- –ê–≥–µ–Ω—Ç—ã –Ω–∞ —Ö–æ—Å—Ç–∞—Ö: Node Exporter (–¥–ª—è –º–µ—Ç—Ä–∏–∫ —Ö–æ—Å—Ç–∞) –∏ cAdvisor (–¥–ª—è –º–µ—Ç—Ä–∏–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤)

–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
1. –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ (Prometheus –∏ –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä—ã)

**–ü—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã:** Prometheus –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–æ–¥–µ–ª—å pull. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä Prometheus –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ —Å–∞–º –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç (scrape) —Ü–µ–ª–µ–≤—ã–µ endpoints, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –º–µ—Ç—Ä–∏–∫–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

- –î–ª—è –º–µ—Ç—Ä–∏–∫ —Ö–æ—Å—Ç–æ–≤ (CPU, RAM, Disk, Network):
    - –ù–∞ –∫–∞–∂–¥–æ–π —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –∏–ª–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π Node Exporter.
    - Node Exporter –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ HTTP endpoint (http://node-ip:9100/metrics) –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Ç—Ä–∏–∫ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ö–æ—Å—Ç–∞.
    - Prometheus —Ä–∞–∑ –≤ ~15-30 —Å–µ–∫—É–Ω–¥ –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç endpoint –∏ –∑–∞–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏.
- –î–ª—è –º–µ—Ç—Ä–∏–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (CPU, RAM –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä):
    - –ù–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ –≤ Kubernetes –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è cAdvisor (—á–∞—Å—Ç–æ —É–∂–µ –≤—Å—Ç—Ä–æ–µ–Ω –≤ kubelet).
    - cAdvisor –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–∞ –Ω–æ–¥–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é CPU, –ø–∞–º—è—Ç–∏, —Å–µ—Ç–∏ –∏ –¥–∏—Å–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
    - Prometheus –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç cAdvisor –Ω–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ.
- –î–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ (–±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏):
    - –î–ª—è –º–Ω–æ–≥–∏—Ö —è–∑—ã–∫–æ–≤ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫–∏(Prometheus Client –¥–ª—è Python, Go, Java –∏ —Ç.–¥.), –¥–ª—è –≤—ã–≤–æ–¥–∞ –º–µ—Ç—Ä–∏–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, http_requests_total, orders_processed, database_query_duration_seconds).
    - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å) –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç–µ—Ç endpoint (–Ω–∞–ø—Ä–∏–º–µ—Ä, /metrics).
    - Prometheus –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç —ç—Ç–æ—Ç endpoint –∏ –∑–∞–±–∏—Ä–∞–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏.
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–µ–ª–µ–π (Service Discovery):
    - –í Kubernetes Prometheus –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç –≤—Å–µ —Ü–µ–ª–∏ –¥–ª—è —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ Kubernetes Service Discovery. –û–Ω —É–∑–Ω–∞–µ—Ç –æ –≤—Å–µ—Ö Pod'–∞—Ö, Service'–∞—Ö –∏ –Ω–æ–¥–∞—Ö –∏–∑ API Kubernetes –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∏—Ö –≤ —Å–ø–∏—Å–æ–∫ –¥–ª—è –æ–ø—Ä–æ—Å–∞.

2. –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ (Prometheus + VictoriaMetrics)
- Prometheus —Å–∞–º –ø–æ —Å–µ–±–µ —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫–µ –ª–æ–∫–∞–ª—å–Ω–æ. –ù–æ —ç—Ç–æ –Ω–µ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
- –î–ª—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–æ–π —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ, –Ω–∞–¥–µ–∂–Ω–æ–≥–æ –∏ —ç–∫–æ–Ω–æ–º–∏—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è. VictoriaMetrics ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π –∏ –ø—Ä–æ—Å—Ç–æ–π –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ fork Prometheus, –∫–æ—Ç–æ—Ä—ã–π –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —ç—Ç–æ–π —Ä–æ–ª–∏.

- –ü—Ä–∏–Ω—Ü–∏–ø: Prometheus –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∑–∞–ø–∏—Å—å –≤—Å–µ—Ö —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ –∏ —É–¥–∞–ª–µ–Ω–Ω–æ (remote write) –≤ VictoriaMetrics. VictoriaMetrics —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö.

3. –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏–∑ (Grafana)
- Grafana –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ VictoriaMetrics (–∏–ª–∏ –Ω–∞–ø—Ä—è–º—É—é –∫ Prometheus) –∫–∞–∫ –∫ –∏—Å—Ç–æ—á–Ω–∏–∫—É –¥–∞–Ω–Ω—ã—Ö.

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤: –í Grafana –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ—â–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ PromQL (Prometheus Query Language). –° –µ–≥–æ –ø–æ–º–æ—â—å—é –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –ª—é–±—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏, joins, –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –º–µ—Ç—Ä–∏–∫–∞–º–∏.

- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø–∞–Ω–µ–ª—è–º–∏: –í Grafana –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã, —Å–æ—Å—Ç–æ—è—â–∏–µ –∏–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –ø–∞–Ω–µ–ª–µ–π (–≥—Ä–∞—Ñ–∏–∫–∏, —Ç–∞–±–ª–∏—Ü—ã, heatmaps, alert states). –≠—Ç–∏ –¥–∞—à–±–æ—Ä–¥—ã –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–æ–¥ –Ω—É–∂–¥—ã –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã (–¥–∞—à–±–æ—Ä–¥ –¥–ª—è –ë–î, –¥–∞—à–±–æ—Ä–¥ –¥–ª—è –±–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫, –¥–∞—à–±–æ—Ä–¥ –æ–±—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–ª–∞—Å—Ç–µ—Ä–∞).

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**
–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ	|	–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–æ–º —Å—Ç–µ–∫–µ (Prometheus + VictoriaMetrics + Grafana)
-|-
–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ –≤—Å–µ—Ö —Ö–æ—Å—Ç–æ–≤	|	‚úÖ Node Exporter –Ω–∞ –∫–∞–∂–¥–æ–º —Ö–æ—Å—Ç–µ + Prometheus —Å Service Discovery.
–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ —Ö–æ—Å—Ç–æ–≤	|	‚úÖ Node Exporter –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏: node_cpu_seconds_total, node_memory_MemAvailable_bytes, node_disk_io_time_seconds_total, node_network_receive_bytes_total.
–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫ –ø–æ—Ç—Ä–µ–±–ª—è–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞	|	‚úÖ cAdvisor –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–µ—Ç—Ä–∏–∫–∏: container_cpu_usage_seconds_total, container_memory_usage_bytes, container_network_receive_bytes_total —Å labels pod, container, namespace.
–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞	|	‚úÖ –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –≤ –∫–æ–¥ –º–µ—Ç—Ä–∏–∫–∏ —Å –ø–æ–º–æ—â—å—é Prometheus Client Libraries. Endpoint /metrics –æ–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è Prometheus.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–µ–π	|	‚úÖ Grafana —Å —è–∑—ã–∫–æ–º –∑–∞–ø—Ä–æ—Å–æ–≤ PromQL –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –ª—é–±—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ (sum(), rate(), avg(), quantile()).
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞–Ω–µ–ª—è–º–∏	|	‚úÖ Grafana ‚Äî –º–∏—Ä–æ–≤–æ–π –ª–∏–¥–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∞—à–±–æ—Ä–¥–æ–≤. –ü–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ UI –∏–ª–∏ –∫–æ–¥ (JSON).

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –≤—ã–±–æ—Ä–∞**
- –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç: Prometheus ‚Äî –æ—Å–Ω–æ–≤–∞ Cloud Native –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞. –ï–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≤—Å–µ –∫—Ä—É–ø–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∏ Kubernetes.

- –ú–æ–¥–µ–ª—å Pull: –ë–æ–ª–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞ –∏ –ø—Ä–æ—Å—Ç–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, —á–µ–º push (–Ω–µ –Ω—É–∂–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–µ –ø–æ—Ä—Ç—ã –Ω–∞ —Å–µ—Ä–≤–∏—Å–∞—Ö).

- –ú–æ—â–Ω—ã–π —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤ PromQL: –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ —Å–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã.

- –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞: –û–≥—Ä–æ–º–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ç–æ–≤—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä–æ–≤ (–¥–ª—è –ë–î, –æ—á–µ—Ä–µ–¥–µ–π, hardware) –∏ –≥–æ—Ç–æ–≤—ã—Ö –¥–∞—à–±–æ—Ä–¥ –¥–ª—è Grafana.

- –≠–∫–æ–Ω–æ–º–∏—á–Ω–æ—Å—Ç—å: VictoriaMetrics —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ —Å –≤—ã—Å–æ—á–∞–π—à–µ–π —Å—Ç–µ–ø–µ–Ω—å—é —Å–∂–∞—Ç–∏—è, —á—Ç–æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –¥–µ—à–µ–≤–ª–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤.

- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç–æ—Ç–∞: –°—Ç–µ–∫ –æ—á–µ–Ω—å —É—Å—Ç–æ–π—á–∏–≤ –∏ —Ö–æ—Ä–æ—à–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º –≤ —Ä–∞–±–æ—Ç–µ.

